<html><head><title>iP6 Plus HISTORY (PC-6001/6601 Emulator) </title><META HTTP-EQUIV="content-type" CONTENT="text/html;charset="ISO-2022-JP"></head><body><a name="top"></a><h1>iP6 Plus HISTORY  </h1><hr><h2>細かい 変更点</h2> <p>Rel.4.7で  出来るようになったのは下記のとおりです。<h3>エミュレータ内部について</h3><ul>  <li><strong>SR以外の機種で起動したときの、メモリ関係のバグを修正 </strong>  			<!--PC-6001で、I/O F0h/F1h に何もしないように-->  <li><strong>2ms Timer 割り込みの発生条件を修正!　</strong>  			<!--ついに修正。(^^; -->  <li><strong>フロッピィドライブの読み書き動作時に、若干のウエイトを追加　</strong>  		<!--ディスク版 ハイドライドのタイトルが、ちゃんと見えるように -->  <li><strong>YM2203 の内部タイマーをカウントアップするようにした (不完全)</strong>  <li><strong>YM2203 のステータスを　I/O を通して読み込めるように修正 </strong>  <li><strong>YM2203から、擬似的にBUSY/ READYを返すようにしてみた。</strong>     	<!--単に、カウントアップして、BUSY,BUSY,BUSY, READY と返すようにしただけです -->  <li><strong>小さな画面(320x200)にしているのに、リセットすると、大きな画面(640x400)になってしまうときがあったバグを修正。</strong><!-- width 切り替えの場所間違っていたため。 -->  <li><strong>SRのグラフィックVRAMアクセス時、Y座標を 204以上指定すると、エミュレータ内のRAMの内容を破壊していたバグを修正 </strong>(Thanks Hashi さん!)   		<!-- 204ライン以上になると、折り返して上に戻るらしい。 -->  <li><strong>MODE 6で、SCREEN 2,2,1 か、 SCREEN 3,2,1のときに、画面が化けていたのを修正　</strong>		<!--VRAMのアドレスを保持する変数を、グラフィックと、テキストで分離-->  <li><strong>TAPE を、LOAD用と、SAVE用で分けました。</strong>  <li><strong>SRのモード6で、拡張ROMを正しくマッピングできてなかったバグを修正。</strong>(Thanks Chocobonさん!)  <li><strong>MODE 5 から MODE 6に戻ったときの、メモリー関係（CGROM)のバグを修正</strong>  <li><strong>66SRのユーカラJJで、終了するときに、f5->f5でリセット後、暴走していたバグを修正</strong>  <!-- モード5からモード6になったときに、portF0 変数を初期化する-->  <li><strong>ブロック転送命令 (LDIR/LDDR) で、自己書き換えしないように対策</strong></ul><h3>Windows版　特有の部分について</h3> <ul>  <li><strong>フルスクリーンモードに対応　(Windows版)</strong><!-- 実はSDL版も対応。 -->  <li><strong>拡張ROMを読み込めるようにした。(Windows版のお話)</strong>  <li><strong>設定を変更したあと、自力で再起動するように変更。（Windows版）</strong>  <li><strong>ディスクアクセスランプを追加。(Windows版)</strong>  <li><strong>リセットできなかったことがあったバグを修正 (Windows版) </strong>Thanks Hashi さん!　<!--カレントも見るように。-->  <li><strong>iP6 Plus 以外の窓に切り替えたときに、キーリピートの速度を通常に戻すようにした (Windows版）</strong>  <li><strong>リセット時に、窓の上のほうに絵が残ってしまっていたのを修正　(Windows版)  </strong>	<!-- 画面の上を消しているつもりが、全然違うところを消していたため。-->  <li><strong>設定ダイアログを整理</strong>  <li><strong>設定画面で、スキャンラインの有無を選択できるように。(Windows 版)</strong>  <li><strong>SAVE用テープが存在しない場合、ファイルを作るかどうか聞くようにした。（Windows版）</strong>  <li><strong>初回起動時に、DISKのOPENが選べてしまうバグを修正。(Windows)</strong>Thanks Moriya さん!<!-- disk num 変数などの初期値を変更-->  <li><strong>2ms Timerのカウントアップ値を変えているときに、 Configure を開いて、OKを押すと、その値が元に戻ってしまうバグを修正 (Windows版)</strong>  <li><strong>CPUの負荷を減らしました。(Windows版)</strong></ul><h3>Unix版　特有の部分について</h3><ul>  <li><strong>Unix版の設定パネルで、ファイル名を入力時に、Cancelを押すと、Segment Fault を起こすときがあったバグを修正</strong></ul> <p>Rel.4.6で  出来るようになったのは下記のとおりです。 <p>2003年7月-9月頃 <ul>  <li>SRのモード6から、I/OのF0h,F1hなどに何か出力して、固まっていたのを修正。  <li>画面が小さいときに、SR BASICを起動しようとすると、メモリー参照エラーを起こしていたバグを修正。  <li>NO Wait モードのまま、設定を変えるなどすると、No Wait モードが解除されないバグを修正。(Windows版）  <li>テープから高速読み込み中に、リセットすると、高速モードが解除されないバグを修正(Windows版）  <li>SRのモード6の25行のセミグラフィックモードに対応　  <li>音源スレッドの終了方法を修正　(Windows版）  <li>SRのCGROM 16kb 1個のみのサポートへ変更  <li>USBの JOY STICK 仮対応(Windows版) </ul> <p>2003年5月-7月頃 <ul>  <li>ついに、天丸さんのアイコンを採用させて頂きました。ありがとうございました。(Windows 版)  <li>1DDittで読み取った 1DDと、1Dディスクに対応。 (共通)  <li>N60 セミグラフィックモードのデータ初期化を確実にするように。(共通)  <li>PC-6601SR で、1Dディスクを挿入したときに、イジェクトしていたのを、警告だけにした。(Windows 版)  <li>一部のメッセージを日本語化   (Windows 版)  <li>ノーウエイト モード追加   (Windows 版)  <li>TAPEの巻き戻しを出来るようにした。 (Windows 版)  <li>再起動しないで、マシンタイプを変えられるように。(Windows版)  <li>キークリック 音をデフォルトOFFに。on/off もできるようにした。(Windows版)  <li>保存系の操作でディレクトリを覚える。拡張子を補完される。上書きチェックも行う。( Windows版)  <li>エミュレータの画面周辺にマージンを入れた。(Windows 版)   <li>黒色の配合を少しグレー寄りに。（共通)  <li>SRのモード6の速度を自動的に高速になるようにした。(共通) <!--(SR時、BUSREQがOFFなら高速モードに入る)-->   <li>窓の大きさを動的に変えられるようにした。(共通)   <li>SRで WIDTH 80 / SCREEN 3 命令を実行したとき、画面が小さい場合 自動的に大きくなるようにした。（共通)   <li>ROMのないマシンタイプを指定した場合、リセットを実行できないように修正 (Windows 版)  <li>Helpを表示してから、起動してしまうミスを修正 (Unix版) </ul>  <!-- <p>(Rel4.3)から、出来るようになったのは下記のとおりです。 --> <p>2003年3月-4月頃 <ul>  <li>SRのハードウエアスクロール　仮対応 (Windows 版)  <li>SRの204ライン　仮対応 (Windows 版)  <li>SRの拡張RAM 仮対応       (共通)  <li>SRの拡張漢字ROM 仮対応   (共通)  <li>拡張漢字ROM の自動作成機能 (Windows版)   <li>Windows版で　キー入力がおかしかったのを修正 (4.0.1にも反映。) </ul> <!-- <p>(Rel4.2)から、出来るようになったのは下記のとおりです。 --> <p>2002年2月頃 <ul>  <li>SR のSCREEN 2の配色を修正 (共通)  CSS3が１の時  <li>SR のパレットの対応モード追加  (共通)  （CSS3が１の時と、モード5）  <li>読み取り専用属性のディスクイメージを扱えるようになりました （共通)  <li>ROMファイルの置き場所が増えました。（ROMというサブディレクトリ）  <li>スナップショットが取れるようになりました。（Windowsのみ)  <!--<li>テープの高速モードを、さらに速くしました。(共通)-->  <!--<li>キークリック音みたいなもの？(Windows のみ) --> </ul> <!-- <p>(Rel4.1)から、出来るようになったのは下記のとおりです。 --> <p>2003年1月頃 <ul>  <li>fmgen-006 を組み込んで、SRの FM音源(YM-2203)に対応しました。   <li>デバッグモードから　qで終了できない問題を直しました。(Windows 版のお話）  <li>RAM イメージの書き出しがメニューからできるようにしました。 (Windows 版のお話  <li>マウントしているテープ/ディスクのファイル名を表示するようにしました (Windows版のみ）  <li>2ms timer 割り込みを停止できるようにしました。  <li>特殊フォーマットのディスクの読み込みに(仮)対応しました。  <!--<li>テープの読み込みで　高速モードをつけました。(Windows 版のみ)--> </ul><hr><h2>おおまかですが、ヒストリーをおいておきます。</h2><dl>  <dt>2002/2/2	<dd>準備体操として、SRのベタイメージVRAMローダーを作成するところから開始。  <dt>2002/2/10	<dd>iP6 Plus の改造スタート。　環境はもちろん、PC-Unixです。v(^^;  <dt>2002/2/13	<dd>SR BASIC が起動成功!  <dt>2002/2/17	<dd>グラフィックが表示開始!  <dt>2002/3	<dd>フロッピィディスクの実装。内臓と外付けの両方なので、かなりかかった。  <dt>2002/4/8	<dd>DATE$ TIME$ TV予約　をサポート  <dt>2002/4/21	<dd>PALET と垂直同期　をサポート  <dt>2002/4/29	<dd>WIDTH 80 と SCREEN 3 をサポート  <dt>2002/7/14	<dd>640x200 を自然な表示可能にできた。  <dt>2002/8	<dd>TV予約の曜日を修正  <dt>2002/9/12	<dd><strong>Windows 版の作成を開始！</strong>　ここから開発環境がWindows が主に移行。  <dt>2002/9/27	<dd>PALET の動作速度改善  <dt>2002/10/14	<dd>Windows でPSG音源が正常に鳴るように。SRでも鳴るように。  <dt>2002/10/17	<dd>Windows のZ80 CPUの駆動方法を変更。TAPEが読めるようになった。  <dt>2002/10/30	<dd>Windows の音源使用時、使用メモリーが増えてしまうのを修正  <dt>2002/11/18	<dd>Windows 98 での　音源サポート  <dt>2002/11/23	<dd>会社が忙しくなるので、その前に Release 4 をリリース。  <dt>2002/11/24	<dd>名前を　iP6 Plus に決定　(Thanks: Hashi さん)  <dt>2002/12	<dd>CISCさんの fmgen を組み込んで、FM音源に対応  <dt>2002/12/31	<dd>TAPE を高速化。　ドアドアmk2を読めるように。  <dt>2003/1/5	<dd>モード６のSCREEN 2の色修正。書き換え不可ディスク　サポート  <dt>2003/1/6	<dd>Windows でキークリック音みたいなものを実装  <dt>2003/1	<dd>TAPE をさらに高速化  <dt>2003/2/7	<dd>Windows でスナップショットとれるように  <dt>2003/3/2	<dd>SDL でもサポート開始  <dt>2003/3/中	<dd>設定ダイアログを変更  <dt>2003/3/16	<dd>ハードウエアスクロールと、204ライン　サポート開始  <dt>2003/4/20	<dd>拡張漢字ROM、拡張RAMをサポート  <dt>2003/4/27	<dd>天丸さんのアイコンを採用させていただきました。ありがとうございました。  <dt>2003/4/27	<dd>窓の大きさを動的に変えられるように。  <dt>2003/5	<dd>SRの速度を速くしていました。  <dt>2003/5/24	<dd>再起動の必要性を減らしていました。  <dt>2003/6	<dd>画面の周りを広げて、マージンをとるようにした。黒色の配色を変更。  <dt>2003/7/12	<dd>拡張漢字ROM 吸出しプログラム( ksaver) を公開  <dt>2003/7/中旬	<dd>1DDitt も使い出した。<dl><p>こうしてみると、Unix時代が結構長いんですよね。基本的な動作は、Unix時代に実装していました。今でこそ、開発環境はWindowsが　主になっていますが・・。(^^;<p><a href="#top">ページの一番上に戻る</a></body></html>